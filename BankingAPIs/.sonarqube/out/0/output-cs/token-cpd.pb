á>
aC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Controllers\AccountController.cs
	namespace

 	
BankingAPIs


 
.

 
Controllers

 !
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AccountController "
:# $
ControllerBase% 3
{ 
private 
ICustomerAccount  
_customerAccount! 1
;1 2
public 
AccountController  
(  !
ICustomerAccount! 1
customerAccount2 A
)A B
{ 	
_customerAccount 
= 
customerAccount .
;. /
} 	
[ 	
HttpGet	 
( 
$str !
)! "
]" #
public 
IActionResult 
GetAccountById +
(+ ,
int, /
Id0 2
)2 3
{   	
var!! 
d!! 
=!! 
_customerAccount!! $
.!!$ %
GetAccountById!!% 3
(!!3 4
Id!!4 6
)!!6 7
;!!7 8
if## 
(## 
d## 
==## 
null## 
)## 
{$$ 
return%% 

BadRequest%% !
(%%! "
$str%%" -
)%%- .
;%%. /
}&& 
return(( 
Ok(( 
((( 
d(( 
)(( 
;(( 
})) 	
[++ 	
HttpGet++	 
(++ 
$str++ #
)++# $
]++$ %
public,, 
IActionResult,, 
GetAccountByName,, -
(,,- .
string,,. 4
Name,,5 9
),,9 :
{-- 	
var.. 
d.. 
=.. 
_customerAccount.. $
...$ %
GetAccountByName..% 5
(..5 6
Name..6 :
)..: ;
;..; <
if00 
(00 
d00 
==00 
null00 
)00 
{11 
return22 

BadRequest22 !
(22! "
$str22" -
)22- .
;22. /
}33 
return55 
Ok55 
(55 
d55 
)55 
;55 
}66 	
[88 	
HttpGet88	 
(88 
$str88 ,
)88, -
]88- .
public99 
IActionResult99 %
GetAccountByAccountNumber99 6
(996 7
string997 =
AccountNumber99> K
)99K L
{:: 	
var<< 
d<< 
=<< 
_customerAccount<< $
.<<$ %%
GetAccountByAccountNumber<<% >
(<<> ?
AccountNumber<<? L
)<<L M
;<<M N
if>> 
(>> 
d>> 
==>> 
null>> 
)>> 
{?? 
return@@ 
NotFound@@ 
(@@  
$str@@  +
)@@+ ,
;@@, -
}AA 
returnDD 
OkDD 
(DD 
dDD 
)DD 
;DD 
}EE 	
[GG 	
HttpGetGG	 
(GG 
$strGG 
)GG 
]GG 
publicII 
IActionResultII 

GetDetailsII '
(II' (
)II( )
{JJ 	
varKK 
bKK 
=KK 
_customerAccountKK $
.KK$ %
GetAccountsKK% 0
(KK0 1
)KK1 2
;KK2 3
returnLL 
OkLL 
(LL 
bLL 
)LL 
;LL 
}NN 	
[PP 	
HttpGetPP	 
(PP 
$strPP 
)PP 
]PP 
publicRR 
asyncRR 
TaskRR 
<RR 
ActionResultRR &
<RR& '
IEnumerableRR' 2
<RR2 3
CustomerAccountRR3 B
>RRB C
>RRC D
>RRD E
SearchRRF L
(RRL M
stringRRM S
SearchQueryRRT _
)RR_ `
{SS 	
varTT 
bTT 
=TT 
_customerAccountTT %
.TT% &
SearchAccountsTT& 4
(TT4 5
SearchQueryTT5 @
)TT@ A
;TTA B
ifVV 
(VV 
bVV 
==VV 
nullVV 
)VV 
{WW 
returnXX 

BadRequestXX !
(XX! "
$strXX" -
)XX- .
;XX. /
}YY 
return[[ 
Ok[[ 
([[ 
b[[ 
)[[ 
;[[ 
}\\ 	
[__ 	

HttpDelete__	 
(__ 
$str__ $
)__$ %
]__% &
publicaa 
ActionResultaa 
DeleteCustomeraa *
(aa* +
stringaa+ 1
AccountNumberaa2 ?
)aa? @
{bb 	
CustomerAccountcc 
acccc 
=cc  !
_customerAccountcc" 2
.cc2 3%
GetAccountByAccountNumbercc3 L
(ccL M
AccountNumberccM Z
)ccZ [
;cc[ \
ifee 
(ee 
accee 
==ee 
nullee 
)ee 
{ff 
returnhh 
NotFoundhh 
(hh  
$strhh  +
)hh+ ,
;hh, -
}jj 
returnll 
	NoContentll 
(ll 
)ll 
;ll 
}nn 	
[pp 	
HttpPostpp	 
(pp 
$strpp 
)pp 
]pp 
publicrr 
IActionResultrr 
Loginrr "
(rr" #
stringrr# )
Emailrr* /
,rr/ 0
stringrr1 7
passwordrr8 @
)rr@ A
{ss 	
vartt 
btt 
=tt 
_customerAccounttt $
.tt$ %
Logintt% *
(tt* +
Emailtt+ 0
,tt0 1
passwordtt2 :
)tt: ;
;tt; <
ifvv 
(vv 
bvv 
==vv 
nullvv 
)vv 
{ww 
returnxx 
NotFoundxx 
(xx  
$strxx  ;
)xx; <
;xx< =
}yy 
return{{ 
Ok{{ 
({{ 
b{{ 
){{ 
;{{ 
}|| 	
[ 	
HttpPut	 
( 
$str !
)! "
]" #
public
ÄÄ 
IActionResult
ÄÄ 
UpdateCustomer
ÄÄ +
(
ÄÄ+ ,

AccountDTO
ÄÄ, 6

accountDto
ÄÄ7 A
,
ÄÄA B
string
ÄÄC I
AccountNumber
ÄÄJ W
)
ÄÄW X
{
ÅÅ 	
var
ÇÇ 
acc
ÇÇ 
=
ÇÇ 
_customerAccount
ÇÇ &
.
ÇÇ& ''
GetAccountByAccountNumber
ÇÇ' @
(
ÇÇ@ A
AccountNumber
ÇÇA N
)
ÇÇN O
;
ÇÇO P

AccountDTO
ÑÑ 

accountDTO
ÑÑ !
=
ÑÑ" #
new
ÑÑ$ '

AccountDTO
ÑÑ( 2
(
ÑÑ2 3
)
ÑÑ3 4
{
ÖÖ 
Email
ÜÜ 
=
ÜÜ 
acc
ÜÜ 
.
ÜÜ 
Email
ÜÜ !
,
ÜÜ! "
Password
áá 
=
áá 
acc
áá 
.
áá 
Password
áá '
,
áá' (
}
ââ 
;
ââ 
if
åå 
(
åå 
acc
åå 
==
åå 
null
åå 
)
åå 
{
çç 
return
éé 
NotFound
éé 
(
éé  
$str
éé  +
)
éé+ ,
;
éé, -
}
èè 
return
ëë 
Ok
ëë 
(
ëë 
_customerAccount
ëë &
.
ëë& '
UpdateCustomer
ëë' 5
(
ëë5 6

accountDTO
ëë6 @
,
ëë@ A

accountDto
ëëB L
)
ëëL M
)
ëëM N
;
ëëN O
}
ìì 	
}
ññ 
}óó í
_C:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Controllers\AdminController.cs
	namespace 	
BankingAPIs
 
. 
Controllers !
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
AdminController  
:! "
ControllerBase# 1
{		 
private

 
IAdminLogin

 
_adminlogin

 '
;

' (
public 
AdminController 
( 
IAdminLogin *

adminLogin+ 5
)5 6
{ 	
_adminlogin 
= 

adminLogin $
;$ %
} 	
[ 	
HttpPost	 
( 
$str 
) 
]  
public 
IActionResult 
Login "
(" #
string# )
Email* /
,/ 0
string1 7
password8 @
)@ A
{ 	
var 
b 
= 
_adminlogin 
.  
Login  %
(% &
Email& +
,+ ,
password- 5
)5 6
;6 7
if 
( 
b 
== 
null 
) 
{ 
return 
NotFound 
(  
$str  ;
); <
;< =
} 
return 
Ok 
( 
b 
) 
; 
} 	
} 
}  
`C:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Controllers\SignUpController.cs
	namespace 	
BankingAPIs
 
. 
Controllers !
{		 
[

 
Route

 

(


 
$str

 &
)

& '
]

' (
[ 
ApiController 
] 
public 

class 
SignUpController !
:" #
ControllerBase$ 2
{ 
private 
ISignUp 
_signup 
;  
public 
SignUpController 
(  
ISignUp  '
signUp( .
). /
{ 	
_signup 
= 
signUp 
; 
} 	
[ 	
HttpPost	 
] 
public 
IActionResult 
CreateNewAccount -
(- .
SignUp. 4
signup5 ;
); <
{ 	
if 
( 
signup 
== 
null 
)  
{ 
return 

BadRequest !
(! "
$str" -
)- .
;. /
} 
return   
Ok   
(   
_signup   
.   
Create   $
(  $ %
signup  % +
,  + ,
signup  - 3
.  3 4
Password  4 <
,  < =
signup  > D
.  D E
ConfirmPassword  E T
)  T U
)  U V
;  V W
}"" 	
}%% 
}&& ı
QC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\DATA\DataBank.cs
	namespace 	
BankingAPIs
 
. 
DATA 
{ 
public 

class 
DataBank 
: 
	DbContext %
{ 
public 
DataBank 
( 
DbContextOptions (
<( )
DataBank) 1
>1 2
options3 :
): ;
:< =
base		 
(		 
options		 
)		 
{

 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
CustomerAccount  /
>/ 0
(0 1
)1 2
. 
HasKey 
( 
m 
=> 
new "
{# $
m% &
.& '
Id' )
,) *
m+ ,
., -
AccountGenerated- =
}> ?
)? @
;@ A
} 	
public 
DbSet 
< 
CustomerAccount $
>$ %
CustomerAccounts& 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
DbSet 
< 
Login 
> 
Logins "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 

AdminLogin 
>  
AdminLogins! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
SignUp 
> 
SignUps $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Transcation  
>  !
Transcations" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} ⁄
SC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\DTOs\AccountDTO.cs
	namespace 	
BankingAPIs
 
. 
DTOs 
{ 
public 

class 

AccountDTO 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
[

 	
Required

	 
]

 
public 
string 
Oldpassword "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Compare	 
( 
$str 
, 
ErrorMessage )
=* +
$str, B
)B C
]C D
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateTime 
DateUpdated #
{$ %
get& )
;) *
}+ ,
} 
} •
YC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Helper\MappingProfile.cs
	namespace 	
BankingAPIs
 
. 
Helper 
{ 
public 

class 
MappingProfile 
:  
Profile! (
{ 
public		 
MappingProfile		 
(		 
)		 
{

 	
	CreateMap 
< 
CustomerAccount %
,% &

AccountDTO' 1
>2 3
(3 4
)4 5
;5 6
	CreateMap 
< 

AccountDTO  
,  !
CustomerAccount" 1
>1 2
(2 3
)3 4
;4 5
	CreateMap 
< 
SignUp 
, 
CustomerAccount -
>- .
(. /
)/ 0
;0 1
} 	
} 
} „
YC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Interface\IAdminLogin.cs
	namespace 	
BankingAPIs
 
. 
	Interface 
{ 
public 

	interface 
IAdminLogin  
{ 

AdminLogin 
Login 
( 
string 
Email  %
,% &
string' -
password. 6
)6 7
;7 8
}

 
} Æ
^C:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Interface\ICustomerAccount.cs
	namespace 	
BankingAPIs
 
. 
	Interface 
{ 
public 

	interface 
ICustomerAccount %
{ 
CustomerAccount	 
Create 
(  
CustomerAccount  /
newacc0 6
,6 7
string8 >
Password? G
)G H
;H I
IEnumerable 
< 
CustomerAccount #
># $
GetAccounts% 0
(0 1
)1 2
;2 3
IEnumerable 
< 
CustomerAccount #
># $
SearchAccounts% 3
(3 4
string4 :
SearchQuery; F
)F G
;G H
CustomerAccount 
UpdateCustomer &
(& '

AccountDTO' 1
customer2 :
,: ;

AccountDTO< F
	NewUpdateG P
)P Q
;Q R
CustomerAccount 
Login 
( 
string $
Email% *
,* +
string, 2
password3 ;
); <
;< =
void 
DeleteCustomer 
( 
string "
AcountNumber# /
)/ 0
;0 1
CustomerAccount 
GetAccountById &
(& '
int' *
Id+ -
)- .
;. /
CustomerAccount 
GetAccountByName (
(( )
string) /
Name0 4
)4 5
;5 6
CustomerAccount %
GetAccountByAccountNumber 1
(1 2
string2 8
AccountNumber9 F
)F G
;G H
} 
} €
TC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Interface\ILogin.cs
	namespace 	
BankingAPIs
 
. 
	Interface 
{ 
public 

	interface 
ILogin 
{ 
Login 
Authenticate 
( 
string !
Email" '
,' (
string) /
password0 8
)8 9
;9 :
} 
}		 ù
UC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Interface\ISignUp.cs
	namespace 	
BankingAPIs
 
. 
	Interface 
{ 
public 

	interface 
ISignUp 
{ 
SignUp 
Create 
( 
SignUp 

newaccount '
,' (
string) /
Password0 8
,8 9
string: @
ConfirmPasswordA P
)P Q
;Q R
} 
}		 ﬁ
ZC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Interface\ITranscation.cs
	namespace 	
BankingAPIs
 
. 
	Interface 
{ 
public 

	interface 
ITranscation !
{ 
Transaction  
CreateNewTransaction (
(( )
Transaction) 4
transaction5 @
)@ A
;A B
Transaction !
FindTransactionByDate )
() *
DateTime* 2

TranscDate3 =
)= >
;> ?
}		 
}

 †ü
jC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Migrations\20221123094602_NewMigration.cs
	namespace 	
BankingAPIs
 
. 

Migrations  
{ 
public		 

partial		 
class		 
NewMigration		 %
:		& '
	Migration		( 1
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
BankId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
FullName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
falseP U
)U V
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 A
,A B
nullableC K
:K L
falseM R
)R S
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Password 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: D
,D E
nullableF N
:N O
falseP U
)U V
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
BankId> D
)D E
;E F
}   
)   
.!! 

Annotation!! 
(!! 
$str!! +
,!!+ ,
$str!!- 6
)!!6 7
;!!7 8
migrationBuilder## 
.## 
CreateTable## (
(##( )
name$$ 
:$$ 
$str$$ (
,$$( )
columns%% 
:%% 
table%% 
=>%% !
new%%" %
{&& 
Id'' 
='' 
table'' 
.'' 
Column'' %
<''% &
int''& )
>'') *
(''* +
type''+ /
:''/ 0
$str''1 6
,''6 7
nullable''8 @
:''@ A
false''B G
)''G H
.(( 

Annotation(( #
(((# $
$str(($ C
,((C D(
MySqlValueGenerationStrategy((E a
.((a b
IdentityColumn((b p
)((p q
,((q r
	FristName)) 
=)) 
table))  %
.))% &
Column))& ,
<)), -
string))- 3
>))3 4
())4 5
type))5 9
:))9 :
$str)); E
,))E F
nullable))G O
:))O P
false))Q V
)))V W
.** 

Annotation** #
(**# $
$str**$ 3
,**3 4
$str**5 >
)**> ?
,**? @
LastName++ 
=++ 
table++ $
.++$ %
Column++% +
<+++ ,
string++, 2
>++2 3
(++3 4
type++4 8
:++8 9
$str++: D
,++D E
nullable++F N
:++N O
false++P U
)++U V
.,, 

Annotation,, #
(,,# $
$str,,$ 3
,,,3 4
$str,,5 >
),,> ?
,,,? @
DateOfBirth-- 
=--  !
table--" '
.--' (
Column--( .
<--. /
DateTime--/ 7
>--7 8
(--8 9
type--9 =
:--= >
$str--? L
,--L M
nullable--N V
:--V W
false--X ]
)--] ^
,--^ _
gender.. 
=.. 
table.. "
..." #
Column..# )
<..) *
int..* -
>..- .
(... /
type../ 3
:..3 4
$str..5 :
,..: ;
nullable..< D
:..D E
false..F K
)..K L
,..L M
PhoneNumber// 
=//  !
table//" '
.//' (
Column//( .
<//. /
string/// 5
>//5 6
(//6 7
type//7 ;
://; <
$str//= G
,//G H
nullable//I Q
://Q R
false//S X
)//X Y
.00 

Annotation00 #
(00# $
$str00$ 3
,003 4
$str005 >
)00> ?
,00? @
Email11 
=11 
table11 !
.11! "
Column11" (
<11( )
string11) /
>11/ 0
(110 1
type111 5
:115 6
$str117 A
,11A B
nullable11C K
:11K L
false11M R
)11R S
.22 

Annotation22 #
(22# $
$str22$ 3
,223 4
$str225 >
)22> ?
,22? @
AccountBalance33 "
=33# $
table33% *
.33* +
Column33+ 1
<331 2
double332 8
>338 9
(339 :
type33: >
:33> ?
$str33@ H
,33H I
nullable33J R
:33R S
false33T Y
)33Y Z
,33Z [
Password44 
=44 
table44 $
.44$ %
Column44% +
<44+ ,
string44, 2
>442 3
(443 4
type444 8
:448 9
$str44: D
,44D E
nullable44F N
:44N O
false44P U
)44U V
.55 

Annotation55 #
(55# $
$str55$ 3
,553 4
$str555 >
)55> ?
,55? @
AccountGenerated66 $
=66% &
table66' ,
.66, -
Column66- 3
<663 4
string664 :
>66: ;
(66; <
type66< @
:66@ A
$str66B L
,66L M
nullable66N V
:66V W
false66X ]
)66] ^
.77 

Annotation77 #
(77# $
$str77$ 3
,773 4
$str775 >
)77> ?
,77? @
accountType88 
=88  !
table88" '
.88' (
Column88( .
<88. /
int88/ 2
>882 3
(883 4
type884 8
:888 9
$str88: ?
,88? @
nullable88A I
:88I J
false88K P
)88P Q
,88Q R
DateCreated99 
=99  !
table99" '
.99' (
Column99( .
<99. /
DateTime99/ 7
>997 8
(998 9
type999 =
:99= >
$str99? L
,99L M
nullable99N V
:99V W
false99X ]
)99] ^
,99^ _
DateUpdated:: 
=::  !
table::" '
.::' (
Column::( .
<::. /
DateTime::/ 7
>::7 8
(::8 9
type::9 =
:::= >
$str::? L
,::L M
nullable::N V
:::V W
false::X ]
)::] ^
};; 
,;; 
constraints<< 
:<< 
table<< "
=><<# %
{== 
table>> 
.>> 

PrimaryKey>> $
(>>$ %
$str>>% :
,>>: ;
x>>< =
=>>>> @
x>>A B
.>>B C
Id>>C E
)>>E F
;>>F G
}?? 
)?? 
.@@ 

Annotation@@ 
(@@ 
$str@@ +
,@@+ ,
$str@@- 6
)@@6 7
;@@7 8
migrationBuilderBB 
.BB 
CreateTableBB (
(BB( )
nameCC 
:CC 
$strCC 
,CC 
columnsDD 
:DD 
tableDD 
=>DD !
newDD" %
{EE 
IdFF 
=FF 
tableFF 
.FF 
ColumnFF %
<FF% &
intFF& )
>FF) *
(FF* +
typeFF+ /
:FF/ 0
$strFF1 6
,FF6 7
nullableFF8 @
:FF@ A
falseFFB G
)FFG H
.GG 

AnnotationGG #
(GG# $
$strGG$ C
,GGC D(
MySqlValueGenerationStrategyGGE a
.GGa b
IdentityColumnGGb p
)GGp q
,GGq r
EmailHH 
=HH 
tableHH !
.HH! "
ColumnHH" (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
typeHH1 5
:HH5 6
$strHH7 A
,HHA B
nullableHHC K
:HHK L
falseHHM R
)HHR S
.II 

AnnotationII #
(II# $
$strII$ 3
,II3 4
$strII5 >
)II> ?
,II? @
PasswordJJ 
=JJ 
tableJJ $
.JJ$ %
ColumnJJ% +
<JJ+ ,
stringJJ, 2
>JJ2 3
(JJ3 4
typeJJ4 8
:JJ8 9
$strJJ: D
,JJD E
nullableJJF N
:JJN O
falseJJP U
)JJU V
.KK 

AnnotationKK #
(KK# $
$strKK$ 3
,KK3 4
$strKK5 >
)KK> ?
}LL 
,LL 
constraintsMM 
:MM 
tableMM "
=>MM# %
{NN 
tableOO 
.OO 

PrimaryKeyOO $
(OO$ %
$strOO% 0
,OO0 1
xOO2 3
=>OO4 6
xOO7 8
.OO8 9
IdOO9 ;
)OO; <
;OO< =
}PP 
)PP 
.QQ 

AnnotationQQ 
(QQ 
$strQQ +
,QQ+ ,
$strQQ- 6
)QQ6 7
;QQ7 8
migrationBuilderSS 
.SS 
CreateTableSS (
(SS( )
nameTT 
:TT 
$strTT 
,TT  
columnsUU 
:UU 
tableUU 
=>UU !
newUU" %
{VV 
IdWW 
=WW 
tableWW 
.WW 
ColumnWW %
<WW% &
intWW& )
>WW) *
(WW* +
typeWW+ /
:WW/ 0
$strWW1 6
,WW6 7
nullableWW8 @
:WW@ A
falseWWB G
)WWG H
.XX 

AnnotationXX #
(XX# $
$strXX$ C
,XXC D(
MySqlValueGenerationStrategyXXE a
.XXa b
IdentityColumnXXb p
)XXp q
,XXq r
	FristNameYY 
=YY 
tableYY  %
.YY% &
ColumnYY& ,
<YY, -
stringYY- 3
>YY3 4
(YY4 5
typeYY5 9
:YY9 :
$strYY; E
,YYE F
nullableYYG O
:YYO P
falseYYQ V
)YYV W
.ZZ 

AnnotationZZ #
(ZZ# $
$strZZ$ 3
,ZZ3 4
$strZZ5 >
)ZZ> ?
,ZZ? @
LastName[[ 
=[[ 
table[[ $
.[[$ %
Column[[% +
<[[+ ,
string[[, 2
>[[2 3
([[3 4
type[[4 8
:[[8 9
$str[[: D
,[[D E
nullable[[F N
:[[N O
false[[P U
)[[U V
.\\ 

Annotation\\ #
(\\# $
$str\\$ 3
,\\3 4
$str\\5 >
)\\> ?
,\\? @
DateOfBirth]] 
=]]  !
table]]" '
.]]' (
Column]]( .
<]]. /
DateTime]]/ 7
>]]7 8
(]]8 9
type]]9 =
:]]= >
$str]]? L
,]]L M
nullable]]N V
:]]V W
false]]X ]
)]]] ^
,]]^ _
phoneNumber^^ 
=^^  !
table^^" '
.^^' (
Column^^( .
<^^. /
string^^/ 5
>^^5 6
(^^6 7
type^^7 ;
:^^; <
$str^^= G
,^^G H
nullable^^I Q
:^^Q R
false^^S X
)^^X Y
.__ 

Annotation__ #
(__# $
$str__$ 3
,__3 4
$str__5 >
)__> ?
,__? @
gender`` 
=`` 
table`` "
.``" #
Column``# )
<``) *
int``* -
>``- .
(``. /
type``/ 3
:``3 4
$str``5 :
,``: ;
nullable``< D
:``D E
false``F K
)``K L
,``L M
Emailaa 
=aa 
tableaa !
.aa! "
Columnaa" (
<aa( )
stringaa) /
>aa/ 0
(aa0 1
typeaa1 5
:aa5 6
$straa7 A
,aaA B
nullableaaC K
:aaK L
falseaaM R
)aaR S
.bb 

Annotationbb #
(bb# $
$strbb$ 3
,bb3 4
$strbb5 >
)bb> ?
,bb? @
Passwordcc 
=cc 
tablecc $
.cc$ %
Columncc% +
<cc+ ,
stringcc, 2
>cc2 3
(cc3 4
typecc4 8
:cc8 9
$strcc: D
,ccD E
nullableccF N
:ccN O
falseccP U
)ccU V
.dd 

Annotationdd #
(dd# $
$strdd$ 3
,dd3 4
$strdd5 >
)dd> ?
,dd? @
ConfirmPasswordee #
=ee$ %
tableee& +
.ee+ ,
Columnee, 2
<ee2 3
stringee3 9
>ee9 :
(ee: ;
typeee; ?
:ee? @
$streeA K
,eeK L
nullableeeM U
:eeU V
falseeeW \
)ee\ ]
.ff 

Annotationff #
(ff# $
$strff$ 3
,ff3 4
$strff5 >
)ff> ?
,ff? @
accountTypegg 
=gg  !
tablegg" '
.gg' (
Columngg( .
<gg. /
intgg/ 2
>gg2 3
(gg3 4
typegg4 8
:gg8 9
$strgg: ?
,gg? @
nullableggA I
:ggI J
falseggK P
)ggP Q
}hh 
,hh 
constraintsii 
:ii 
tableii "
=>ii# %
{jj 
tablekk 
.kk 

PrimaryKeykk $
(kk$ %
$strkk% 1
,kk1 2
xkk3 4
=>kk5 7
xkk8 9
.kk9 :
Idkk: <
)kk< =
;kk= >
}ll 
)ll 
.mm 

Annotationmm 
(mm 
$strmm +
,mm+ ,
$strmm- 6
)mm6 7
;mm7 8
migrationBuilderoo 
.oo 
CreateTableoo (
(oo( )
namepp 
:pp 
$strpp $
,pp$ %
columnsqq 
:qq 
tableqq 
=>qq !
newqq" %
{rr 
Idss 
=ss 
tabless 
.ss 
Columnss %
<ss% &
intss& )
>ss) *
(ss* +
typess+ /
:ss/ 0
$strss1 6
,ss6 7
nullabless8 @
:ss@ A
falsessB G
)ssG H
.tt 

Annotationtt #
(tt# $
$strtt$ C
,ttC D(
MySqlValueGenerationStrategyttE a
.tta b
IdentityColumnttb p
)ttp q
,ttq r
TranscationIduu !
=uu" #
tableuu$ )
.uu) *
Columnuu* 0
<uu0 1
Guiduu1 5
>uu5 6
(uu6 7
typeuu7 ;
:uu; <
$struu= G
,uuG H
nullableuuI Q
:uuQ R
falseuuS X
,uuX Y
	collationuuZ c
:uuc d
$struue w
)uuw x
,uux y
AmountTransferedvv $
=vv% &
tablevv' ,
.vv, -
Columnvv- 3
<vv3 4
doublevv4 :
>vv: ;
(vv; <
typevv< @
:vv@ A
$strvvB J
,vvJ K
nullablevvL T
:vvT U
falsevvV [
)vv[ \
,vv\ ]
SourceAccountww !
=ww" #
tableww$ )
.ww) *
Columnww* 0
<ww0 1
stringww1 7
>ww7 8
(ww8 9
typeww9 =
:ww= >
$strww? I
,wwI J
nullablewwK S
:wwS T
falsewwU Z
)wwZ [
.xx 

Annotationxx #
(xx# $
$strxx$ 3
,xx3 4
$strxx5 >
)xx> ?
,xx? @
DestinationAccountyy &
=yy' (
tableyy) .
.yy. /
Columnyy/ 5
<yy5 6
stringyy6 <
>yy< =
(yy= >
typeyy> B
:yyB C
$stryyD N
,yyN O
nullableyyP X
:yyX Y
falseyyZ _
)yy_ `
.zz 

Annotationzz #
(zz# $
$strzz$ 3
,zz3 4
$strzz5 >
)zz> ?
,zz? @
transactionStatus{{ %
={{& '
table{{( -
.{{- .
Column{{. 4
<{{4 5
int{{5 8
>{{8 9
({{9 :
type{{: >
:{{> ?
$str{{@ E
,{{E F
nullable{{G O
:{{O P
false{{Q V
){{V W
,{{W X
	TransDate|| 
=|| 
table||  %
.||% &
Column||& ,
<||, -
DateTime||- 5
>||5 6
(||6 7
type||7 ;
:||; <
$str||= J
,||J K
nullable||L T
:||T U
false||V [
)||[ \
}}} 
,}} 
constraints~~ 
:~~ 
table~~ "
=>~~# %
{ 
table
ÄÄ 
.
ÄÄ 

PrimaryKey
ÄÄ $
(
ÄÄ$ %
$str
ÄÄ% 6
,
ÄÄ6 7
x
ÄÄ8 9
=>
ÄÄ: <
x
ÄÄ= >
.
ÄÄ> ?
Id
ÄÄ? A
)
ÄÄA B
;
ÄÄB C
}
ÅÅ 
)
ÅÅ 
.
ÇÇ 

Annotation
ÇÇ 
(
ÇÇ 
$str
ÇÇ +
,
ÇÇ+ ,
$str
ÇÇ- 6
)
ÇÇ6 7
;
ÇÇ7 8
}
ÉÉ 	
	protected
ÖÖ 
override
ÖÖ 
void
ÖÖ 
Down
ÖÖ  $
(
ÖÖ$ %
MigrationBuilder
ÖÖ% 5
migrationBuilder
ÖÖ6 F
)
ÖÖF G
{
ÜÜ 	
migrationBuilder
áá 
.
áá 
	DropTable
áá &
(
áá& '
name
àà 
:
àà 
$str
àà #
)
àà# $
;
àà$ %
migrationBuilder
ää 
.
ää 
	DropTable
ää &
(
ää& '
name
ãã 
:
ãã 
$str
ãã (
)
ãã( )
;
ãã) *
migrationBuilder
çç 
.
çç 
	DropTable
çç &
(
çç& '
name
éé 
:
éé 
$str
éé 
)
éé 
;
éé  
migrationBuilder
êê 
.
êê 
	DropTable
êê &
(
êê& '
name
ëë 
:
ëë 
$str
ëë 
)
ëë  
;
ëë  !
migrationBuilder
ìì 
.
ìì 
	DropTable
ìì &
(
ìì& '
name
îî 
:
îî 
$str
îî $
)
îî$ %
;
îî% &
}
ïï 	
}
ññ 
}óó Ä)
aC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Migrations\20221123111136_2nd.cs
	namespace 	
BankingAPIs
 
. 

Migrations  
{ 
public 

partial 
class 
_2nd 
: 
	Migration  )
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str +
,+ ,
table 
: 
$str )
)) *
;* +
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str (
,( )
table 
: 
$str )
,) *
type 
: 
$str $
,$ %
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str #
)# $
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
. 
OldAnnotation 
( 
$str .
,. /
$str0 9
)9 :
;: ;
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str )
,) *
type 
: 
$str 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType   
:   
$str   
)   
.!! 
OldAnnotation!! 
(!! 
$str!! >
,!!> ?(
MySqlValueGenerationStrategy!!@ \
.!!\ ]
IdentityColumn!!] k
)!!k l
;!!l m
migrationBuilder## 
.## 
AddPrimaryKey## *
(##* +
name$$ 
:$$ 
$str$$ +
,$$+ ,
table%% 
:%% 
$str%% )
,%%) *
columns&& 
:&& 
new&& 
[&& 
]&& 
{&&  
$str&&! %
,&&% &
$str&&' 9
}&&: ;
)&&; <
;&&< =
}'' 	
	protected)) 
override)) 
void)) 
Down))  $
())$ %
MigrationBuilder))% 5
migrationBuilder))6 F
)))F G
{** 	
migrationBuilder++ 
.++ 
DropPrimaryKey++ +
(+++ ,
name,, 
:,, 
$str,, +
,,,+ ,
table-- 
:-- 
$str-- )
)--) *
;--* +
migrationBuilder// 
.// 
AlterColumn// (
<//( )
string//) /
>/// 0
(//0 1
name00 
:00 
$str00 (
,00( )
table11 
:11 
$str11 )
,11) *
type22 
:22 
$str22  
,22  !
nullable33 
:33 
false33 
,33  

oldClrType44 
:44 
typeof44 "
(44" #
string44# )
)44) *
,44* +
oldType55 
:55 
$str55 '
)55' (
.66 

Annotation66 
(66 
$str66 +
,66+ ,
$str66- 6
)666 7
.77 
OldAnnotation77 
(77 
$str77 .
,77. /
$str770 9
)779 :
;77: ;
migrationBuilder99 
.99 
AlterColumn99 (
<99( )
int99) ,
>99, -
(99- .
name:: 
::: 
$str:: 
,:: 
table;; 
:;; 
$str;; )
,;;) *
type<< 
:<< 
$str<< 
,<< 
nullable== 
:== 
false== 
,==  

oldClrType>> 
:>> 
typeof>> "
(>>" #
int>># &
)>>& '
,>>' (
oldType?? 
:?? 
$str?? 
)?? 
.@@ 

Annotation@@ 
(@@ 
$str@@ ;
,@@; <(
MySqlValueGenerationStrategy@@= Y
.@@Y Z
IdentityColumn@@Z h
)@@h i
;@@i j
migrationBuilderBB 
.BB 
AddPrimaryKeyBB *
(BB* +
nameCC 
:CC 
$strCC +
,CC+ ,
tableDD 
:DD 
$strDD )
,DD) *
columnEE 
:EE 
$strEE 
)EE 
;EE 
}FF 	
}GG 
}HH Æ
cC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Migrations\20221123113427_again.cs
	namespace 	
BankingAPIs
 
. 

Migrations  
{ 
public 

partial 
class 
again 
:  
	Migration! *
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str )
,) *
type 
: 
$str 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
) 
. 

Annotation 
( 
$str ;
,; <(
MySqlValueGenerationStrategy= Y
.Y Z
IdentityColumnZ h
)h i
;i j
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str )
,) *
type 
: 
$str 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str 
) 
. 
OldAnnotation 
( 
$str >
,> ?(
MySqlValueGenerationStrategy@ \
.\ ]
IdentityColumn] k
)k l
;l m
}   	
}!! 
}"" ¶
\C:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\AccountNumber.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 
AccountNumber 
{ 
Random 
rand 
= 
new 
Random  
(  !
)! "
;" #
public 
AccountNumber 
( 
) 
{ 	
var 
a 
= 
$str 
; 
var

 
b

 
=

 
Convert

 
.

 
ToString

 $
(

$ %
(

% &
long

& *
)

* +
Math

+ /
.

/ 0
Floor

0 5
(

5 6
rand

6 :
.

: ;

NextDouble

; E
(

E F
)

F G
* 
$num 
+ 
$num )
)) *
)* +
;+ ,
this 
. 
AccountGenerated !
=" #
Convert$ +
.+ ,
ToString, 4
(4 5
a5 6
+7 8
b9 :
): ;
;; <
} 	
public 
string 
AccountGenerated &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ˇ
YC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\AdminLogin.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 

AdminLogin 
{ 
[ 	
Key	 
] 
public 
int 
BankId 
{ 
get 
;  
set! $
;$ %
}& '
public

 
string

 
FullName

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ø
^C:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\CustomerAccount.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 
CustomerAccount  
{ 
[ 	
Key	 
] 
[		 	
DatabaseGenerated			 
(		 #
DatabaseGeneratedOption		 2
.		2 3
Identity		3 ;
)		; <
]		< =
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
	FristName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
DateOfBirth #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Gender 
gender 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
PhoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
double 
AccountBalance $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
AccountGenerated &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
AccountType 
accountType &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
DateCreated #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
DateTime 
DateUpdated #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
enum 
AccountType 
{ 	
Savings 
, 
Current 
} 	
public   
enum   
Gender   
{!! 	
Male"" 
,"" 
Female## 
}$$ 	
}%% 
}&& ¶
TC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\Login.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 
Login 
{ 
public 
int 
Id 
{ 
get 
; 
set !
;! "
}# $
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Ò
UC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\SignUp.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 
SignUp 
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public

 
string

 
	FristName

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
DateOfBirth #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
}+ ,
public 
string 
phoneNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Gender 
gender 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
Compare	 
( 
$str 
, 
ErrorMessage (
=) *
$str+ A
)A B
]B C
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
AccountType 
accountType &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} ˘
ZC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\ModelClass\Transcation.cs
	namespace 	
BankingAPIs
 
. 

ModelClass  
{ 
public 

class 
Transcation 
{ 
[ 	
Key	 
] 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public

 
Guid

 
TranscationId

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
double 
AmountTransfered &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
string 
SourceAccount #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
DestinationAccount (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
TransactionStatus  
transactionStatus! 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
DateTime 
	TransDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
enum 
TransactionStatus %
{ 	

Successful 
, 
Failed 
, 
Pending 
} 	
public 
Transcation 
( 
) 
{ 	
var 
TranscationId 
= 
$"  "
{" #
Guid# '
.' (
NewGuid( /
(/ 0
)0 1
.1 2
ToString2 :
(: ;
); <
.< =
Replace= D
(D E
$strE H
,H I
$strJ L
)L M
.M N
	SubstringN W
(W X
$numX Y
,Y Z
$num[ ]
)] ^
}^ _
"_ `
;` a
} 	
} 
}   ˙
KC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddAutoMapper 
( 
	AppDomain (
.( )
CurrentDomain) 6
.6 7
GetAssemblies7 D
(D E
)E F
)F G
;G H
builder 
. 
Services 
. 
	AddScoped 
< 
ISignUp #
,# $
Signup% +
>+ ,
(, -
)- .
;. /
builder 
. 
Services 
. 
	AddScoped 
< 
ICustomerAccount +
,+ ,
Account_Repo- 9
>9 :
(: ;
); <
;< =
var 
connectionString 
= 
builder 
. 
Configuration ,
., -
GetConnectionString- @
(@ A
nameA E
:E F
$strG [
)[ \
;\ ]
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. 
AddDbContext 
< 
DataBank &
>& '
(' (
opt( +
=>, .
{ 
opt 
. 
UseMySql 
( 
connectionString !
,! "
ServerVersion# 0
.0 1

AutoDetect1 ;
(; <
connectionString< L
)L M
)M N
;N O
} 
) 
; 
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if   
(   
app   
.   
Environment   
.   
IsDevelopment   !
(  ! "
)  " #
)  # $
{!! 
app"" 
."" 

UseSwagger"" 
("" 
)"" 
;"" 
app## 
.## 
UseSwaggerUI## 
(## 
)## 
;## 
}$$ 
app&& 
.&& 
UseHttpsRedirection&& 
(&& 
)&& 
;&& 
app(( 
.(( 
UseAuthorization(( 
((( 
)(( 
;(( 
app** 
.** 
MapControllers** 
(** 
)** 
;** 
app,, 
.,, 
Run,, 
(,, 
),, 	
;,,	 
¥i
VC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Repos\Account Repo.cs
	namespace

 	
BankingAPIs


 
.

 
Repos

 
{ 
public 

class 
Account_Repo 
: 
ICustomerAccount  0
{ 
private 
readonly 
DataBank !

_dbcontext" ,
;, -
private 
readonly 
IMapper  
_mapper! (
;( )
public 
Account_Repo 
( 
DataBank $
Bankdata% -
,- .
IMapper/ 6
mapper7 =
)= >
{ 	

_dbcontext 
= 
Bankdata !
;! "
_mapper 
= 
mapper 
; 
} 	
public 
CustomerAccount 
Create %
(% &
CustomerAccount& 5
newacc6 <
,< =
string> D
PasswordE M
)M N
{ 	

_dbcontext 
. 
CustomerAccounts '
.' (
Add( +
(+ ,
newacc, 2
)2 3
;3 4

_dbcontext 
. 
SaveChanges "
(" #
)# $
;$ %
return 
newacc 
; 
}   	
public"" 
void"" 
DeleteCustomer"" "
(""" #
string""# )
AccountNumber""* 7
)""7 8
{## 	
var$$ 
account$$ 
=$$ 

_dbcontext$$ $
.$$$ %
CustomerAccounts$$% 5
.$$5 6
Find$$6 :
($$: ;
AccountNumber$$; H
)$$H I
;$$I J
if%% 
(%% 
account%% 
!=%% 
null%% 
)%%  
{&& 

_dbcontext'' 
.'' 
CustomerAccounts'' +
.''+ ,
Remove'', 2
(''2 3
account''3 :
)'': ;
;''; <

_dbcontext)) 
.)) 
SaveChanges)) &
())& '
)))' (
;))( )
}** 
}++ 	
public-- 
CustomerAccount-- 

GetAccount-- )
(--) *
string--* 0
Name--1 5
)--5 6
{.. 	
var// 
account// 
=// 

_dbcontext// $
.//$ %
CustomerAccounts//% 5
.//5 6
Where//6 ;
(//; <
x//< =
=>//> @
x//A B
.//B C
LastName//C K
==//L N
Name//O S
)//S T
.//T U
FirstOrDefault//U c
(//c d
)//d e
;//e f
return00 
account00 
;00 
}11 	
public33 
CustomerAccount33 %
GetAccountByAccountNumber33 8
(338 9
string339 ?
AccountNumber33@ M
)33M N
{44 	
var55 
account55 
=55 

_dbcontext55 $
.55$ %
CustomerAccounts55% 5
.555 6
Where556 ;
(55; <
x55< =
=>55> @
x55A B
.55B C
AccountGenerated55C S
==55T V
AccountNumber55W d
)55d e
.55e f
FirstOrDefault55f t
(55t u
)55u v
;55v w
return66 
account66 
;66 
}77 	
public;; 
CustomerAccount;; 
GetAccountById;; -
(;;- .
int;;. 1
Id;;2 4
);;4 5
{<< 	
var== 
account== 
=== 

_dbcontext== $
.==$ %
CustomerAccounts==% 5
.==5 6
Where==6 ;
(==; <
x==< =
=>==> @
x==A B
.==B C
Id==C E
====F H
Id==I K
)==K L
.==L M
FirstOrDefault==M [
(==[ \
)==\ ]
;==] ^
return>> 
account>> 
;>> 
}?? 	
publicAA 
CustomerAccountAA 
GetAccountByNameAA /
(AA/ 0
stringAA0 6
NameAA7 ;
)AA; <
{BB 	
varCC 
accountCC 
=CC 

_dbcontextCC $
.CC$ %
CustomerAccountsCC% 5
.CC5 6
WhereCC6 ;
(CC; <
xCC< =
=>CC> @
xCCA B
.CCB C
	FristNameCCC L
==CCM O
NameCCP T
)CCT U
.CCU V
FirstOrDefaultCCV d
(CCd e
)CCe f
;CCf g
returnDD 
accountDD 
;DD 
}EE 	
publicGG 
IEnumerableGG 
<GG 
CustomerAccountGG *
>GG* +
GetAccountsGG, 7
(GG7 8
)GG8 9
{HH 	
varII 
accountsII 
=II 

_dbcontextII %
.II% &
CustomerAccountsII& 6
.II6 7
ToArrayII7 >
(II> ?
)II? @
;II@ A
returnKK 
accountsKK 
;KK 
}MM 	
publicOO 
IEnumerableOO 
<OO 
CustomerAccountOO *
>OO* +
SearchAccountsOO, :
(OO: ;
stringOO; A
SearchQueryOOB M
)OOM N
{PP 	

IQueryableQQ 
<QQ 
CustomerAccountQQ &
>QQ& '
customerAccounts1QQ( 9
=QQ: ;

_dbcontextQQ< F
.QQF G
CustomerAccountsQQG W
;QQW X
ifSS 
(SS 
stringSS 
.SS 
IsNullOrEmptySS $
(SS$ %
SearchQuerySS% 0
)SS0 1
)SS1 2
{TT 
returnUU 
GetAccountsUU "
(UU" #
)UU# $
;UU$ %
}VV 
ifYY 
(YY 
!YY 
stringYY 
.YY 
IsNullOrWhiteSpaceYY *
(YY* +
SearchQueryYY+ 6
)YY6 7
)YY7 8
{ZZ 
SearchQuery[[ 
=[[ 
SearchQuery[[ )
.[[) *
Trim[[* .
([[. /
)[[/ 0
;[[0 1
customerAccounts1\\ !
=\\" #
customerAccounts1\\$ 5
.\\5 6
Where\\6 ;
(\\; <
a\\< =
=>\\> @
a\\A B
.\\B C
Email\\C H
.\\H I
Contains\\I Q
(\\Q R
SearchQuery\\R ]
)\\] ^
||\\_ a
a\\b c
.\\c d
AccountGenerated\\d t
==\\u w
SearchQuery	\\x É
)
\\É Ñ
;
\\Ñ Ö
}]] 
return__ 
customerAccounts1__ $
.__$ %
ToList__% +
(__+ ,
)__, -
;__- .
}`` 	
publicbb 
CustomerAccountbb 
Loginbb $
(bb$ %
stringbb% +
Emailbb, 1
,bb1 2
stringbb3 9
passwordbb: B
)bbB C
{cc 	
vardd 
userdd 
=dd 

_dbcontextdd !
.dd! "
CustomerAccountsdd" 2
.dd2 3
Wheredd3 8
(dd8 9
xdd9 :
=>dd; =
xdd> ?
.dd? @
Emaildd@ E
==ddF H
EmailddI N
)ddN O
.ddO P
FirstOrDefaultddP ^
(dd^ _
)dd_ `
;dd` a
ifff 
(ff 
userff 
==ff 
nullff 
)ff 
{gg 
returnhh 
nullhh 
;hh 
}ii 
boolkk 
ValidPasswordkk 
=kk  
BCryptkk! '
.kk' (
Netkk( +
.kk+ ,
BCryptkk, 2
.kk2 3
Verifykk3 9
(kk9 :
passwordkk: B
,kkB C
userkkD H
.kkH I
PasswordkkI Q
)kkQ R
;kkR S
ifmm 
(mm 
!mm 
ValidPasswordmm 
)mm 
{nn 
returnoo 
nulloo 
;oo 
}pp 
returnss 
userss 
;ss 
}tt 	
publicvv 
CustomerAccountvv 
UpdateCustomervv -
(vv- .

AccountDTOvv. 8
customervv9 A
,vvA B

AccountDTOvvC M
	NewUpdatevvN W
)vvW X
{ww 	
varxx 
accountToBeUpdatedxx "
=xx# $

_dbcontextxx% /
.xx/ 0
CustomerAccountsxx0 @
.xx@ A
WherexxA F
(xxF G
xxxG H
=>xxI K
xxxL M
.xxM N
EmailxxN S
==xxT V
customerxxW _
.xx_ `
Emailxx` e
)xxe f
.xxf g
FirstOrDefaultxxg u
(xxu v
)xxv w
;xxw x
ifyy 
(yy 
accountToBeUpdatedyy "
==yy# %
nullyy& *
)yy* +
throwyy, 1
newyy2 5 
ApplicationExceptionyy6 J
(yyJ K
$stryyK ^
)yy^ _
;yy_ `
bool{{ 
ValidPassword{{ 
={{  
BCrypt{{! '
.{{' (
Net{{( +
.{{+ ,
BCrypt{{, 2
.{{2 3
Verify{{3 9
({{9 :
	NewUpdate{{: C
.{{C D
Oldpassword{{D O
,{{O P
accountToBeUpdated{{Q c
.{{c d
Password{{d l
){{l m
;{{m n
if~~ 
(~~ 
!~~ 
ValidPassword~~ 
)~~ 
throw~~  %
new~~& ) 
ApplicationException~~* >
(~~> ?
$str~~? S
)~~S T
;~~T U
if
ÅÅ 
(
ÅÅ 
!
ÅÅ 
string
ÅÅ 
.
ÅÅ  
IsNullOrWhiteSpace
ÅÅ *
(
ÅÅ* +
	NewUpdate
ÅÅ+ 4
.
ÅÅ4 5
Email
ÅÅ5 :
)
ÅÅ: ;
&&
ÅÅ< >
	NewUpdate
ÅÅ? H
.
ÅÅH I
Email
ÅÅI N
!=
ÅÅO Q 
accountToBeUpdated
ÅÅR d
.
ÅÅd e
Email
ÅÅe j
)
ÅÅj k
{
ÇÇ 
if
ÑÑ 
(
ÑÑ 

_dbcontext
ÑÑ 
.
ÑÑ 
CustomerAccounts
ÑÑ /
.
ÑÑ/ 0
Any
ÑÑ0 3
(
ÑÑ3 4
x
ÑÑ4 5
=>
ÑÑ6 8
x
ÑÑ9 :
.
ÑÑ: ;
Email
ÑÑ; @
==
ÑÑA C
	NewUpdate
ÑÑD M
.
ÑÑM N
Email
ÑÑN S
)
ÑÑS T
)
ÑÑT U
throw
ÖÖ 
new
ÖÖ "
ApplicationException
ÖÖ 2
(
ÖÖ2 3
$str
ÖÖ3 ;
+
ÖÖ< =
	NewUpdate
ÖÖ> G
.
ÖÖG H
Email
ÖÖH M
+
ÖÖN O
$str
ÖÖP a
)
ÖÖa b
;
ÖÖb c 
accountToBeUpdated
ÜÜ "
.
ÜÜ" #
Email
ÜÜ# (
=
ÜÜ) *
	NewUpdate
ÜÜ+ 4
.
ÜÜ4 5
Email
ÜÜ5 :
;
ÜÜ: ;
}
áá 
if
ââ 
(
ââ 
!
ââ 
string
ââ 
.
ââ  
IsNullOrWhiteSpace
ââ *
(
ââ* +
	NewUpdate
ââ+ 4
.
ââ4 5
PhoneNumber
ââ5 @
)
ââ@ A
&&
ââB D
	NewUpdate
ââE N
.
ââN O
PhoneNumber
ââO Z
!=
ââ[ ] 
accountToBeUpdated
ââ^ p
.
ââp q
PhoneNumber
ââq |
)
ââ| }
{
ää 
if
åå 
(
åå 

_dbcontext
åå 
.
åå 
CustomerAccounts
åå /
.
åå/ 0
Any
åå0 3
(
åå3 4
x
åå4 5
=>
åå6 8
x
åå9 :
.
åå: ;
PhoneNumber
åå; F
==
ååG I
	NewUpdate
ååJ S
.
ååS T
PhoneNumber
ååT _
)
åå_ `
)
åå` a
throw
çç 
new
çç "
ApplicationException
çç 2
(
çç2 3
$str
çç3 A
+
ççB C
	NewUpdate
ççD M
.
ççM N
PhoneNumber
ççN Y
+
ççZ [
$str
çç\ m
)
ççm n
;
ççn o 
accountToBeUpdated
èè "
.
èè" #
PhoneNumber
èè# .
=
èè/ 0
	NewUpdate
èè1 :
.
èè: ;
PhoneNumber
èè; F
;
èèF G
}
íí 
if
îî 
(
îî 
!
îî 
string
îî 
.
îî  
IsNullOrWhiteSpace
îî *
(
îî* +
	NewUpdate
îî+ 4
.
îî4 5
PhoneNumber
îî5 @
)
îî@ A
)
îîA B
{
ïï  
accountToBeUpdated
ññ "
.
ññ" #
Password
ññ# +
=
ññ, -
BCrypt
ññ. 4
.
ññ4 5
Net
ññ5 8
.
ññ8 9
BCrypt
ññ9 ?
.
ññ? @
HashPassword
ññ@ L
(
ññL M
	NewUpdate
ññM V
.
ññV W
Password
ññW _
)
ññ_ `
;
ññ` a
}
òò  
accountToBeUpdated
õõ 
.
õõ 
DateUpdated
õõ *
=
õõ+ ,
DateTime
õõ- 5
.
õõ5 6
Now
õõ6 9
;
õõ9 :

_dbcontext
úú 
.
úú 
CustomerAccounts
úú '
.
úú' (
Update
úú( .
(
úú. / 
accountToBeUpdated
úú/ A
)
úúA B
;
úúB C

_dbcontext
ùù 
.
ùù 
SaveChanges
ùù "
(
ùù" #
)
ùù# $
;
ùù$ %
return
üü  
accountToBeUpdated
üü %
;
üü% &
}
¢¢ 	
}
•• 
}¶¶ ·
OC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Repos\Admin.cs
	namespace 	
BankingAPIs
 
. 
Repos 
{ 
public		 

class		 
Admin		 
:		 
IAdminLogin		 $
{

 
private 
DataBank 

_dbcontext #
;# $
private 
IMapper 
_mapper 
;  
public 
Admin 
( 
DataBank 
Bankdata &
,& '
IMapper( /
mapper0 6
)6 7
{ 	

_dbcontext 
= 
Bankdata !
;! "
_mapper 
= 
mapper 
; 
} 	
public 

AdminLogin 
Login 
(  
string  &
Email' ,
,, -
string. 4
password5 =
)= >
{ 	
var 
user 
= 

_dbcontext !
.! "
AdminLogins" -
.- .
Where. 3
(3 4
x4 5
=>6 8
x9 :
.: ;
Email; @
==A C
EmailD I
)I J
.J K
FirstOrDefaultK Y
(Y Z
)Z [
;[ \
if 
( 
user 
== 
null 
) 
{ 
return 
null 
; 
} 
bool 
ValidPassword 
=  
BCrypt! '
.' (
Net( +
.+ ,
BCrypt, 2
.2 3
Verify3 9
(9 :
password: B
,B C
userD H
.H I
PasswordI Q
)Q R
;R S
if!! 
(!! 
!!! 
ValidPassword!! 
)!! 
{"" 
return## 
null## 
;## 
}$$ 
return'' 
user'' 
;'' 
}(( 	
}++ 
},, ∞
OC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Repos\Login.cs
	namespace 	
BankingAPIs
 
. 
Repos 
{ 
public 

class 
Login 
: 
ILogin 
{ 
public		 

ModelClass		 
.		 
Login		 
Authenticate		  ,
(		, -
string		- 3
Email		4 9
,		9 :
string		; A
password		B J
)		J K
{

 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
}  "
PC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Repos\Signup.cs
	namespace

 	
BankingAPIs


 
.

 
Repos

 
{ 
public 

class 
Signup 
: 
ISignUp !
{ 
private 
DataBank 

_dbcontext #
;# $
private 
IMapper 
_mapper 
;  
public 
Signup 
( 
DataBank 
dataBank '
,' (
IMapper) 0
mapper1 7
)8 9
{ 	

_dbcontext 
= 
dataBank !
;! "
_mapper 
= 
mapper 
; 
} 	
public 
SignUp 
Create 
( 
SignUp #

newaccount$ .
,. /
string0 6
Password7 ?
,? @
stringA G
ConfirmPasswordH W
)W X
{ 	
if 
( 
string 
. 
IsNullOrWhiteSpace )
() *
Password* 2
)2 3
&&4 6
string7 =
.= >
IsNullOrWhiteSpace> P
(P Q
ConfirmPasswordQ `
)` a
)a b
throw 
new !
ArgumentNullException /
(/ 0
$str0 J
)J K
;K L
if 
( 

_dbcontext 
. 
CustomerAccounts +
.+ ,
Any, /
(/ 0
x0 1
=>2 4
x5 6
.6 7
Email7 <
=== ?

newaccount@ J
.J K
EmailK P
)P Q
)Q R
throw   
new    
ApplicationException   .
(  . /
$str  / N
)  N O
;  O P
if"" 
("" 

_dbcontext"" 
."" 
CustomerAccounts"" +
.""+ ,
Any"", /
(""/ 0
x""0 1
=>""2 4
x""5 6
.""6 7
PhoneNumber""7 B
==""C E

newaccount""F P
.""P Q
phoneNumber""Q \
)""\ ]
)""] ^
throw## 
new##  
ApplicationException## .
(##. /
$str##/ T
)##T U
;##U V

newaccount%% 
.%% 
Password%% 
=%%  !
BCrypt%%" (
.%%( )
Net%%) ,
.%%, -
BCrypt%%- 3
.%%3 4
HashPassword%%4 @
(%%@ A

newaccount%%A K
.%%K L
Password%%L T
)%%T U
;%%U V

newaccount'' 
.'' 
ConfirmPassword'' %
=''& '
BCrypt''( .
.''. /
Net''/ 2
.''2 3
BCrypt''3 9
.''9 :
HashPassword'': F
(''F G

newaccount''G Q
.''Q R
ConfirmPassword''R a
)''a b
;''b c

_dbcontext)) 
.)) 
SignUps)) 
.)) 
Add)) "
())" #

newaccount))# -
)))- .
;)). /
var++ 
d++ 
=++ 
_mapper++ 
.++ 
Map++ 
<++  
CustomerAccount++  /
>++/ 0
(++0 1

newaccount++1 ;
)++; <
;++< =
var-- 
accountNumber-- 
=-- 
new--  #
AccountNumber--$ 1
(--1 2
)--2 3
;--3 4
d// 
.// 
AccountGenerated// 
=//  
accountNumber//! .
.//. /
AccountGenerated/// ?
;//? @
d11 
.11 
DateCreated11 
=11 
DateTime11 $
.11$ %
Now11% (
;11( )
d22 
.22 
DateUpdated22 
=22 
DateTime22 $
.22$ %
Now22% (
;22( )

_dbcontext44 
.44 
CustomerAccounts44 '
.44' (
Add44( +
(44+ ,
d44, -
)44- .
;44. /

_dbcontext66 
.66 
SaveChanges66 "
(66" #
)66# $
;66$ %
return99 

newaccount99 
;99 
}:: 	
};; 
}<< ´
UC:\Users\jlopez\source\repos\backendproj\BankingAPIs\BankingAPIs\Repos\Transcation.cs
	namespace 	
BankingAPIs
 
. 
Repos 
{ 
public 

class 
Transcation 
: 
ITranscation +
{ 
public 
Transaction  
CreateNewTransaction /
(/ 0
Transaction0 ;
transaction< G
)G H
{		 	
throw

 
new

 #
NotImplementedException

 -
(

- .
)

. /
;

/ 0
} 	
public 
Transaction !
FindTransactionByDate 0
(0 1
DateTime1 9

TranscDate: D
)D E
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
} 